<!DOCTYPE HTML>
<!--
	Projection by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Generic - Projection by TEMPLATED</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />


    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Year', 'Sales', 'Expenses'],
          ['2004',  1000,      400],
          ['2005',  1170,      460],
          ['2006',  660,       1120],
          ['2007',  1030,      540]
        ]);

        var options = {
          title: 'Company Performance',
          curveType: 'function',
          legend: { position: 'bottom' }
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
      }

      // example function for getting json and sending info to sever
      function printData(){
        var symbol = $("#myText").val();
        var param = 'https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol='+symbol.toUpperCase()+'&interval=15min&outputsize=full&apikey=S4TYOA5YDZJBLT1K';
        $.getJSON(param, function(data) {
            console.log(data);
        });

        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function(){
          //function for the front end
          //this code will be executed when servers sends back response
          //call this.responseText to get the response from server
          $("#retData").innerHTML = this.responseText;
          // above text sets returned data in HTML, good test to see php working
        };

        // need to write a script called processInput.php that takes the input
        // and processes it
        xmlhttp.open("GET", "processInput.php?q=" + symbol, true);
        xmlhttp.send();
      }

			function displayPrice(){
				var symbol = $("#demo-name").val().toUpperCase();
				var url = "https://www.alphavantage.co/query?function=BATCH_STOCK_QUOTES&symbols="+symbol+"&apikey=S4TYOA5YDZJBLT1K";
				$.getJSON(url, function(data) {
            //console.log(data);
						//$("#currPrice").innerHTML = "Current Price: " + data["Stock Quotes"]["0"]["2. price"];
						$("#currPrice").text("Current Price: $" + data["Stock Quotes"]["0"]["2. price"]);
        });

				jQuery('#div_session_write').load('session_write.php?session_name='+symbol);

			}
    </script>
	</head>
	<body class="subpage">

		<!-- Header -->
		<header id="header">
			<div class="inner">
				<a href="https://wiki.illinois.edu/wiki/display/cs411sp18/Trader+Joe%2527s" class="logo"><strong>Trader Joe's</strong></a>
				<nav id="nav">
					<a href="index.html">Home</a>
					<a href="search.html">Search</a>
					<a href="portfolio.html">Portfolio</a>
					<a href="login.html"><u>Login</u></a>
				</nav>
				<a href="#navPanel" class="navPanelToggle"><span class="fa fa-bars"></span></a>
			</div>
		</header>



      <body>
        <div id="curve_chart" style="width: 1500px; height: 500px"></div>



      <form action="javascript:displayPrice()">
        <div class="row uniform">
          <div class="6u 12u$(xsmall)" id='div_session_write'>
            <input type="text" name="symbol" id="demo-name" value="" placeholder="Ticker Symbol" />
          </div>
			</form>




          <div class="row">
            <div class="3u 12u$(small)">
              <ul class="actions vertical">

                <li><a href="#" class="button alt"></a></li>
              </ul>
            </div>

						<form action="buy.php" method="get">
	            <div class="3u 12u$(small)">
	              <ul class="actions vertical small">

									<input type = "submit" value = "Buy">

	              </ul>
	            </div>
						</form>

						<form action="sell.php" method="get">
            <div class="3u 12u$(small)">
              <ul class="actions vertical small">
								<input type = "submit" value = "Sell">
              </ul>
            </div>
					</form>

          <div class="3u$ 12u$(small)">
            <ul class="actions vertical small">
              <li><a href="portfolio.html" class="button small fit">History</a></li>
            </ul>
          </div>

          </div>
        </div>

				<h2 id="currPrice">Current Price: </h2>



    </body>






		<!-- Footer -->
			<footer id="footer">
				<div class="inner">

					<h3>Get in touch</h3>

					<form action="#" method="post">

						<div class="field half first">
							<label for="name">Name</label>
							<input name="name" id="name" type="text" placeholder="Name">
						</div>
						<div class="field half">
							<label for="email">Email</label>
							<input name="email" id="email" type="email" placeholder="Email">
						</div>
						<div class="field">
							<label for="message">Message</label>
							<textarea name="message" id="message" rows="6" placeholder="Message"></textarea>
						</div>
						<ul class="actions">
							<li><input value="Send Message" class="button alt" type="submit"></li>
						</ul>
					</form>

					<div class="copyright">
						&copy; <a href="https://wiki.illinois.edu/wiki/display/cs411sp18/Trader+Joe%2527s">Trader Joe's</a>.
						 Developers: <a href="https://github.com/JackDeDobb">Jackson DeDobbelaere</a>,
						 <a href="https://github.com/rshah98626">Rahul Shah</a>,
						 <a href="https://github.com/anoopsypereddi">Anoop Sypereddi</a>.
					</div>

				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
